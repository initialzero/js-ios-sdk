<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>RKConnectionDescription Class Reference</title>

	<link rel="stylesheet" href="../css/style.css">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1.4">
	<meta name="generator" content="appledoc 2.2.1 (build 1333)">
</head>
<body class="appledoc">
	<header>
		<div class="container" class="hide-in-xcode">
			
			<h1 id="library-title">
				<a href="../index.html">JaspersoftSDK </a>
			</h1>

			<p id="developer-home">
				<a href="../index.html">TIBCO Jaspersoft</a>
			</p>
			
		</div>
	</header>

	<aside>
		<div class="container">
			<nav>
				<ul id="header-buttons" role="toolbar">
					<li><a href="../index.html">Index</a></li>
<li><a href="../hierarchy.html">Hierarchy</a></li>

					<li id="on-this-page" role="navigation">
						<label>
							On This Page

							<div class="chevron">
								<div class="chevy chevron-left"></div>
								<div class="chevy chevron-right"></div>
							</div>

							<select id="jump-to">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	

	
	
	<option value="tasks">Tasks</option>
	
	

	
	
	<optgroup label="Properties">
		
		<option value="//api/name/attributes">attributes</option>
		
		<option value="//api/name/destinationPredicate">destinationPredicate</option>
		
		<option value="//api/name/foreignKeyConnection">foreignKeyConnection</option>
		
		<option value="//api/name/includesSubentities">includesSubentities</option>
		
		<option value="//api/name/keyPath">keyPath</option>
		
		<option value="//api/name/keyPathConnection">keyPathConnection</option>
		
		<option value="//api/name/relationship">relationship</option>
		
		<option value="//api/name/sourcePredicate">sourcePredicate</option>
		
	</optgroup>
	

	

	
	<optgroup label="Instance Methods">
		
		<option value="//api/name/initWithRelationship:attributes:">- initWithRelationship:attributes:</option>
		
		<option value="//api/name/initWithRelationship:keyPath:">- initWithRelationship:keyPath:</option>
		
	</optgroup>
	
	
</select>
						</label>
					</li>
				</ul>
			</nav>
		</div>
	</aside>

	<article>
		<div id="overview_contents" class="container">
			<div id="content">
				<main role="main">
					<h1 class="title">RKConnectionDescription Class Reference</h1>

					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<th>Inherits from</th>
	<td>NSObject</td>
</tr><tr>
	<th>Conforms to</th>
	<td>NSCopying</td>
</tr><tr>
	<th>Declared in</th>
	<td>RKConnectionDescription.h<br />RKConnectionDescription.m</td>
</tr>
						</tbody></table></div>
					

                    
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>The <code>RKConnectionDescription</code> class describes a means for connecting a Core Data <a href="#//api/name/relationship">relationship</a>. Connections can be established either by foreign key, in which case one or more attribute values on the source entity correspond to matching values on the destination entity, or by key path, in which case a key path is evaluated on the object graph to obtain a value for the <a href="#//api/name/relationship">relationship</a>. Connection objects are used by instances of <a href="../Classes/RKRelationshipConnectionOperation.html"><code>RKRelationshipConnectionOperation</code></a> to connect a <a href="#//api/name/relationship">relationship</a> of a given managed object.</p>

<h2>Foreign Key Connections</h2>

<p>A foreign key connection is established by identifying managed objects within a context which have corresponding values on the source and destination objects. This is typically used to model relationships in the same way one would within a relational database.</p>

<p>For example, consider the example of a <code>User</code> entity that has a to-many <a href="#//api/name/relationship">relationship</a> named &lsquo;projects&rsquo; for the <code>Project</code> entity. Within the <code>User</code> entity, there is an attribute named &lsquo;userID&rsquo; that models the value for a given user&rsquo;s primary key as provided to the application by the remote backend API with which it is communicating. Within the <code>Project</code> entity, a corresponding &lsquo;userID&rsquo; attribute exists specifying the value of the primary key for the <code>User</code> that owns the project. The applications loads each of these object representations independently from the &lsquo;/me/profile&rsquo; and &lsquo;/projects&rsquo; resources. The JSON representation returned for a given <code>Project</code> entity looks something like:</p>

<pre><code>{ "project": 
    { "id": 12345, 
      "name": "My Project",
      "userID": 1
    }
}
</code></pre>

<p>When this representation is mapped to a managed object for the <code>Project</code> entity, the &lsquo;user&rsquo; <a href="#//api/name/relationship">relationship</a> cannot be mapped directly because there is no nested representation &ndash; only the primary key is available. In this case, the <a href="#//api/name/relationship">relationship</a> can be connected by describing the association between the entities with an <code>RKConnectionDescription</code> object:</p>

<pre><code>NSEntityDescription *projectEntity = [NSEntityDescription entityForName:@"Project" inManagedObjectContext:managedObjectContext];
NSRelationshipDescription *userRelationship = [projectEntity relationshipsByName][@"user"];
RKConnectionDescription *connection = [[RKConnectionDescription alloc] initWithRelationship:userRelationship attributes:@{ @"userID": @"userID" }];
</code></pre>

<p>Note that the value for the <code>attributes</code> argument is provided as a dictionary. Each pair within the dictionary correspond to an attribute pair in which the key is an attribute on the source entity (in this case, the <code>Project</code>) and the value is the destination entity (in this case, the <code>User</code>).</p>

<p>Any number of attribute pairs may be specified, but all values must match for the connection to be satisfied and the relationship&rsquo;s value to be set.</p>

<h3>Connecting with Collection Values</h3>

<p>Connections can be established by a collection of values. For example, imagine that the previously described project representation has been extended to include a list of team members who are working on the project:</p>

<pre><code> { "project":
    {   "id": 12345,
        "name": "My Project",
        "userID": 1,
        "teamMemberIDs": [1, 2, 3, 4]
    }
 }
</code></pre>

<p>The &lsquo;teamMemberIDs&rsquo; contains an array specifying the ID&rsquo;s of the <code>User</code> objects who are collaborating on the project, which corresponds to a to-many <a href="#//api/name/relationship">relationship</a> named &lsquo;teamMembers&rsquo; on the <code>Project</code> entity. In this case, the &lsquo;teamMemberIDs&rsquo; could be mapped on to an <code>NSArray</code> or <code>NSSet</code> property on the <code>Project</code> entity and then connected:</p>

<pre><code> NSEntityDescription *projectEntity = [NSEntityDescription entityForName:@"Project" inManagedObjectContext:managedObjectContext];
 NSRelationshipDescription *teamMembers = [projectEntity relationshipsByName][@"teamMembers"]; // To many relationship for the `User` entity
 RKConnectionDescription *connection = [[RKConnectionDescription alloc] initWithRelationship:teamMembers attributes:@{ @"teamMemberIDs": @"userID" }];
</code></pre>

<p>When evaluating the above JSON, the connection would be established for the &lsquo;teamMembers&rsquo; <a href="#//api/name/relationship">relationship</a> to the <code>User</code> entities whose userID&rsquo;s are 1, 2, 3 or 4.</p>

<p>Note that collections of attribute values are always interpetted as logic OR&rsquo;s, but compound connections are aggregated as a logical AND. For example, if we were to add a second connecting attribute for the &ldquo;gender&rdquo; property and include <code>"gender": "male"</code> in the JSON, the connection would be made to all <code>User</code> managed objects whose ID is 1, 2, 3, OR 4 AND whose gender is &ldquo;male&rdquo;.</p>

<h2>Key Path Connections</h2>

<p>A key path connection is established by evaluating the key path of the connection against the managed object being connected. The returned value has type transformation applied and is then assigned to the <a href="#//api/name/relationship">relationship</a>.</p>
					</div>
					
					

					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						

						<a title="Connecting Relationships by Foreign Keys" name="task_Connecting Relationships by Foreign Keys"></a>
						<h2 class="task-title">Connecting Relationships by Foreign Keys</h2>

						<div class="task-list">
							<div class="section-method">
	<a name="//api/name/initWithRelationship:attributes:" title="initWithRelationship:attributes:"></a>
	<h3 class="method-title"><code><a href="#//api/name/initWithRelationship:attributes:">&ndash;&nbsp;initWithRelationship:attributes:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Initializes the receiver with a given <a href="#//api/name/relationship">relationship</a> and a dictionary of <a href="#//api/name/attributes">attributes</a> specifying how to connect the <a href="#//api/name/relationship">relationship</a>.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (instancetype)initWithRelationship:(NSRelationshipDescription *)<em>relationship</em> attributes:(NSDictionary *)<em>sourceToDestinationEntityAttributes</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>relationship</code></th>
						<td><p>The <a href="#//api/name/relationship">relationship</a> to be connected.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>sourceToDestinationEntityAttributes</code></th>
						<td><p>A dictionary specifying how <a href="#//api/name/attributes">attributes</a> on the source entity correspond to <a href="#//api/name/attributes">attributes</a> on the destination entity.</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>The receiver, initialized with the given <a href="#//api/name/relationship">relationship</a> and <a href="#//api/name/attributes">attributes</a>.</p>
			</div>
			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">RKConnectionDescription.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/attributes" title="attributes"></a>
	<h3 class="method-title"><code><a href="#//api/name/attributes">&nbsp;&nbsp;attributes</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>The dictionary of attributes specifying how attributes on the source entity for the <a href="#//api/name/relationship">relationship</a> correspond to attributes on the destination entity.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, copy, readonly) NSDictionary *attributes</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>This attribute is <code>nil</code> unless the value of <a href="#//api/name/foreignKeyConnection"><code>isForeignKeyConnection</code></a> is <code>YES</code>.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">RKConnectionDescription.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/foreignKeyConnection" title="foreignKeyConnection"></a>
	<h3 class="method-title"><code><a href="#//api/name/foreignKeyConnection">&nbsp;&nbsp;foreignKeyConnection</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Returns a Boolean value indicating if the receiver describes a foreign key connection.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, getter=isForeignKeyConnection, readonly) BOOL foreignKeyConnection</code></div>

		    
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p><code>YES</code> if the receiver describes a foreign key connection, else <code>NO</code>.</p>
			</div>
			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">RKConnectionDescription.h</code></p>
			</div>
			
			
		</div>
	</div>
</div>
						</div>
						

						<a title="Connecting Relationships by Key Path" name="task_Connecting Relationships by Key Path"></a>
						<h2 class="task-title">Connecting Relationships by Key Path</h2>

						<div class="task-list">
							<div class="section-method">
	<a name="//api/name/initWithRelationship:keyPath:" title="initWithRelationship:keyPath:"></a>
	<h3 class="method-title"><code><a href="#//api/name/initWithRelationship:keyPath:">&ndash;&nbsp;initWithRelationship:keyPath:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Initializes the receiver with a given <a href="#//api/name/relationship">relationship</a> and key path.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (instancetype)initWithRelationship:(NSRelationshipDescription *)<em>relationship</em> keyPath:(NSString *)<em>keyPath</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>relationship</code></th>
						<td><p>The <a href="#//api/name/relationship">relationship</a> to be connected.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>keyPath</code></th>
						<td><p>The key path from which to read the value that is to be set for the <a href="#//api/name/relationship">relationship</a>.</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>The receiver, initialized with the given <a href="#//api/name/relationship">relationship</a> and key path.</p>
			</div>
			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">RKConnectionDescription.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/keyPath" title="keyPath"></a>
	<h3 class="method-title"><code><a href="#//api/name/keyPath">&nbsp;&nbsp;keyPath</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>The key path that is to be evaluated to obtain the value for the <a href="#//api/name/relationship">relationship</a>.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, copy, readonly) NSString *keyPath</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>This attribute is <code>nil</code> unless the value of <a href="#//api/name/keyPathConnection"><code>isKeyPathConnection</code></a> is <code>YES</code>.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">RKConnectionDescription.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/keyPathConnection" title="keyPathConnection"></a>
	<h3 class="method-title"><code><a href="#//api/name/keyPathConnection">&nbsp;&nbsp;keyPathConnection</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Returns a Boolean value indicating if the receiver describes a key path connection.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, getter=isKeyPathConnection, readonly) BOOL keyPathConnection</code></div>

		    
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p><code>YES</code> if the receiver describes a key path connection, else <code>NO</code>.</p>
			</div>
			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">RKConnectionDescription.h</code></p>
			</div>
			
			
		</div>
	</div>
</div>
						</div>
						

						<a title="Accessing the Relationship to be Connected" name="task_Accessing the Relationship to be Connected"></a>
						<h2 class="task-title">Accessing the Relationship to be Connected</h2>

						<div class="task-list">
							<div class="section-method">
	<a name="//api/name/relationship" title="relationship"></a>
	<h3 class="method-title"><code><a href="#//api/name/relationship">&nbsp;&nbsp;relationship</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Returns the relationship that is to be connected.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, strong, readonly) NSRelationshipDescription *relationship</code></div>

		    
			

			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">RKConnectionDescription.h</code></p>
			</div>
			
			
		</div>
	</div>
</div>
						</div>
						

						<a title="Setting the Predicate" name="task_Setting the Predicate"></a>
						<h2 class="task-title">Setting the Predicate</h2>

						<div class="task-list">
							<div class="section-method">
	<a name="//api/name/includesSubentities" title="includesSubentities"></a>
	<h3 class="method-title"><code><a href="#//api/name/includesSubentities">&nbsp;&nbsp;includesSubentities</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Returns a Boolean value that determines if the connection includes subentities. If <code>NO</code>, then the connection will only be established to objects of exactly the entity specified by the relationship&rsquo;s entity. If <code>YES</code>, then the connection will be established to all objects of the relationship&rsquo;s entity and all subentities.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) BOOL includesSubentities</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p><strong>Default</strong>: <code>YES</code></p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">RKConnectionDescription.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/sourcePredicate" title="sourcePredicate"></a>
	<h3 class="method-title"><code><a href="#//api/name/sourcePredicate">&nbsp;&nbsp;sourcePredicate</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>An optional predicate for conditionally evaluating the connection based on the state of the source object.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, strong) NSPredicate *sourcePredicate</code></div>

		    
			

			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">RKConnectionDescription.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/destinationPredicate" title="destinationPredicate"></a>
	<h3 class="method-title"><code><a href="#//api/name/destinationPredicate">&nbsp;&nbsp;destinationPredicate</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>An optional predicate for filtering objects to be connected.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, copy) NSPredicate *destinationPredicate</code></div>

		    
			

			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">RKConnectionDescription.h</code></p>
			</div>
			
			
		</div>
	</div>
</div>
						</div>
						
					</div>
					
					

                    
                    
          
				</main>

				<footer>
					<div class="footer-copyright">
						
						<p class="copyright">Copyright &copy; 2015 TIBCO Jaspersoft. All rights reserved. Updated: 2015-08-04</p>
						
						
						<p class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.2.1 (build 1333)</a>.</p>
						
					</div>
				</footer>
			</div>
		</div>
	</article>

	<script src="../js/script.js"></script>
</body>
</html>