<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>RKRelationshipMapping Class Reference</title>

	<link rel="stylesheet" href="../css/style.css">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1.4">
	<meta name="generator" content="appledoc 2.2.1 (build 1334)">
</head>
<body class="appledoc">
	<header>
		<div class="container" class="hide-in-xcode">
			
			<h1 id="library-title">
				<a href="../index.html">JaspersoftSDK </a>
			</h1>

			<p id="developer-home">
				<a href="../index.html">TIBCO Jaspersoft</a>
			</p>
			
		</div>
	</header>

	<aside>
		<div class="container">
			<nav>
				<ul id="header-buttons" role="toolbar">
					<li><a href="../index.html">Index</a></li>
<li><a href="../hierarchy.html">Hierarchy</a></li>

					<li id="on-this-page" role="navigation">
						<label>
							On This Page

							<div class="chevron">
								<div class="chevy chevron-left"></div>
								<div class="chevy chevron-right"></div>
							</div>

							<select id="jump-to">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	

	
	
	<option value="tasks">Tasks</option>
	
	

	
	
	<optgroup label="Properties">
		
		<option value="//api/name/assignmentPolicy">assignmentPolicy</option>
		
		<option value="//api/name/mapping">mapping</option>
		
	</optgroup>
	

	
	<optgroup label="Class Methods">
		
		<option value="//api/name/relationshipMappingFromKeyPath:toKeyPath:withMapping:">+ relationshipMappingFromKeyPath:toKeyPath:withMapping:</option>
		
	</optgroup>
	

	
	<optgroup label="Instance Methods">
		
		<option value="//api/name/isEqualToMapping:">- isEqualToMapping:</option>
		
	</optgroup>
	
	
</select>
						</label>
					</li>
				</ul>
			</nav>
		</div>
	</aside>

	<article>
		<div id="overview_contents" class="container">
			<div id="content">
				<main role="main">
					<h1 class="title">RKRelationshipMapping Class Reference</h1>

					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<th>Inherits from</th>
	<td><a href="../Classes/RKPropertyMapping.html">RKPropertyMapping</a> : NSObject</td>
</tr><tr>
	<th>Declared in</th>
	<td>RKRelationshipMapping.h<br />RKRelationshipMapping.m</td>
</tr>
						</tbody></table></div>
					

                    
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>The <code>RKRelationshipMapping</code> class is used to describe relationships of a class in an <a href="../Classes/RKObjectMapping.html"><code>RKObjectMapping</code></a> or an entity in an <a href="../Classes/RKEntityMapping.html"><code>RKEntityMapping</code></a> object.</p>

<p><code>RKRelationshipMapping</code> extends <a href="../Classes/RKPropertyMapping.html"><code>RKPropertyMapping</code></a> to describe features specific to relationships, including the <a href="../Classes/RKMapping.html"><code>RKMapping</code></a> object describing how to map the destination object.</p>

<p>Relationship mappings are described in terms of a source key path, which identifies a key in the parent object representation under which the data for the relationship is nested, and a destination key path, which specifies the key path at which the mapped object is to be assigned on the parent entity. The key paths of the property mappings of the <a href="../Classes/RKMapping.html"><code>RKMapping</code></a> object in the relationship <a href="#//api/name/mapping">mapping</a> are evaluated against the nested object representationship at the source key path.</p>

<h2>Mapping a Non-nested Relationship from the Parent Representation</h2>

<p>It can often be desirable to map data for a relationship directly from the parent object representation, rather than under a nested key path. When a relationship <a href="#//api/name/mapping">mapping</a> is constructed with a <code>nil</code> value for the source key path, then the <a href="../Classes/RKMapping.html"><code>RKMapping</code></a> object is evaluated against the parent representation.</p>

<h2>Assignment Policy</h2>

<p>When <a href="#//api/name/mapping">mapping</a> a relationship, the typical desired behavior is to set the destination of the relationship to the newly mapped values from the object representation being processed. There are times in which it is desirable to use different assignment behaviors. The way in which the relationship is assigned can be controlled by the <a href="#//api/name/assignmentPolicy">assignmentPolicy</a> property. There are currently three distinct assignment policies available:</p>

<ol>
<li><code>RKSetAssignmentPolicy</code> - Instructs the mapper to assign the new destination value to the relationship directly. No further action is taken and the relationship to the old objects is broken. This is the default assignment policy.</li>
<li><code>RKReplaceAssignmentPolicy</code> - Instructs the mapper to assign the new destination value to the relationship and delete any existing object or objects at the destination. The deletion behavior is contextual based on the type of objects being mapped (i.e. Core Data vs NSObject) and is delegated to the <a href="#//api/name/mapping">mapping</a> operation data source.</li>
<li><code>RKUnionAssignmentPolicy</code> - Instructs the mapper to build a new value for the relationship by unioning the existing value with the new value and set the combined value to the relationship. The union assignment policy is only appropriate for use with a to-many relationship.</li>
</ol>

					</div>
					
					

					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						

						<a title="Creating a Relationship Mapping" name="task_Creating a Relationship Mapping"></a>
						<h2 class="task-title">Creating a Relationship Mapping</h2>

						<div class="task-list">
							<div class="section-method">
	<a name="//api/name/relationshipMappingFromKeyPath:toKeyPath:withMapping:" title="relationshipMappingFromKeyPath:toKeyPath:withMapping:"></a>
	<h3 class="method-title"><code><a href="#//api/name/relationshipMappingFromKeyPath:toKeyPath:withMapping:">+&nbsp;relationshipMappingFromKeyPath:toKeyPath:withMapping:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Creates and returns a new relationship <a href="#//api/name/mapping">mapping</a> object describing how to transform a related object representation at <code>sourceKeyPath</code> to a new representation at <code>destinationKeyPath</code> using the given <a href="#//api/name/mapping">mapping</a>.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>+ (instancetype)relationshipMappingFromKeyPath:(NSString *)<em>sourceKeyPath</em> toKeyPath:(NSString *)<em>destinationKeyPath</em> withMapping:(RKMapping *)<em>mapping</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>sourceKeyPath</code></th>
						<td><p>A key path from which to retrieve data in the source object representation that is to be mapped as a relationship. If <code>nil</code>, then the <a href="#//api/name/mapping">mapping</a> is performed directly against the parent object representation.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>destinationKeyPath</code></th>
						<td><p>The key path on the destination object to set the object mapped results.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>mapping</code></th>
						<td><p>A <a href="#//api/name/mapping">mapping</a> object describing how to map the data retrieved from <code>sourceKeyPath</code> that is to be set on <code>destinationKeyPath</code>.</p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>The <a href="#//api/name/mapping">mapping</a> may describe a to-one or a to-many relationship. The appropriate handling of the source representation is deferred until run-time and is determined by performing reflection on the data retrieved from the source object representation by sending a <code>valueForKeyPath:</code> message where the key path is the value given in <code>sourceKeyPath</code>. If an <code>NSArray</code>, <code>NSSet</code> or <code>NSOrderedSet</code> object is returned, the related object representation is processed as a to-many collection. Otherwise the representation is considered to be a to-one.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">RKRelationshipMapping.h</code></p>
			</div>
			
			
		</div>
	</div>
</div>
						</div>
						

						<a title="Accessing the Destination Mapping" name="task_Accessing the Destination Mapping"></a>
						<h2 class="task-title">Accessing the Destination Mapping</h2>

						<div class="task-list">
							<div class="section-method">
	<a name="//api/name/mapping" title="mapping"></a>
	<h3 class="method-title"><code><a href="#//api/name/mapping">&nbsp;&nbsp;mapping</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>An <a href="../Classes/RKMapping.html"><code>RKMapping</code></a> object describing how to map the object representation at <code>sourceKeyPath</code> to a new represenation at <code>destinationKeyPath</code>.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, strong, readonly) RKMapping *mapping</code></div>

		    
			

			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">RKRelationshipMapping.h</code></p>
			</div>
			
			
		</div>
	</div>
</div>
						</div>
						

						<a title="Configuring the Assignment Policy" name="task_Configuring the Assignment Policy"></a>
						<h2 class="task-title">Configuring the Assignment Policy</h2>

						<div class="task-list">
							<div class="section-method">
	<a name="//api/name/assignmentPolicy" title="assignmentPolicy"></a>
	<h3 class="method-title"><code><a href="#//api/name/assignmentPolicy">&nbsp;&nbsp;assignmentPolicy</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>The assignment policy to use when applying the relationship <a href="#//api/name/mapping">mapping</a>.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) RKAssignmentPolicy assignmentPolicy</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>The assignment policy determines how a relationship is set when there are existing objects at the destination of the relationship. The existing values can be disconnected from the parent and left in the graph (<code>RKSetAssignmentPolicy</code>), deleted and replaced by the new value (<code>RKReplaceAssignmentPolicy</code>), or the new value can be unioned with the existing objects to create a new combined value (<code>RKUnionAssignmentPolicy</code>).</p>

<p><strong>Default</strong>: <code>RKSetAssignmentPolicy</code></p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">RKRelationshipMapping.h</code></p>
			</div>
			
			
		</div>
	</div>
</div>
						</div>
						

						
						<h2 class="task-title">Other Methods</h2>

						<div class="task-list">
							<div class="section-method">
	<a name="//api/name/isEqualToMapping:" title="isEqualToMapping:"></a>
	<h3 class="method-title"><code><a href="#//api/name/isEqualToMapping:">&ndash;&nbsp;isEqualToMapping:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Compares the receiving property mapping to another property mapping.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (BOOL)isEqualToMapping:(RKRelationshipMapping *)<em>otherMapping</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>otherMapping</code></th>
						<td><p>The property mapping object with which to compare the receiver.</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p><code>YES</code> if <code>otherMapping</code> specifies the same mapping as the receiver, otherwise <code>NO</code>.</p>
			</div>
			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Two property mappings are equal if they are of the same type (i.e. an <a href="../Classes/RKAttributeMapping.html"><code>RKAttributeMapping</code></a> or an <code>RKRelatiobshipMapping</code> object) and specify a mapping from the same source key path to the same destination key path.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">RKPropertyMapping.h</code></p>
			</div>
			
			
		</div>
	</div>
</div>
						</div>
						
					</div>
					
					

                    
                    
          
				</main>

				<footer>
					<div class="footer-copyright">
						
						<p class="copyright">Copyright &copy; 2016 TIBCO Jaspersoft. All rights reserved. Updated: 2016-01-04</p>
						
						
						<p class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.2.1 (build 1334)</a>.</p>
						
					</div>
				</footer>
			</div>
		</div>
	</article>

	<script src="../js/script.js"></script>
</body>
</html>