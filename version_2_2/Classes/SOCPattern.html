<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>SOCPattern Class Reference</title>

	<link rel="stylesheet" href="../css/style.css">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1.4">
	<meta name="generator" content="appledoc 2.2.1 (build 1334)">
</head>
<body class="appledoc">
	<header>
		<div class="container" class="hide-in-xcode">
			
			<h1 id="library-title">
				<a href="../index.html">JaspersoftSDK </a>
			</h1>

			<p id="developer-home">
				<a href="../index.html">TIBCO Jaspersoft</a>
			</p>
			
		</div>
	</header>

	<aside>
		<div class="container">
			<nav>
				<ul id="header-buttons" role="toolbar">
					<li><a href="../index.html">Index</a></li>
<li><a href="../hierarchy.html">Hierarchy</a></li>

					<li id="on-this-page" role="navigation">
						<label>
							On This Page

							<div class="chevron">
								<div class="chevy chevron-left"></div>
								<div class="chevy chevron-right"></div>
							</div>

							<select id="jump-to">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	

	
	
	<option value="tasks">Tasks</option>
	
	

	
	

	

	
	<optgroup label="Instance Methods">
		
		<option value="//api/name/initWithString:">- initWithString:</option>
		
		<option value="//api/name/parameterDictionaryFromSourceString:">- parameterDictionaryFromSourceString:</option>
		
		<option value="//api/name/performSelector:onObject:sourceString:">- performSelector:onObject:sourceString:</option>
		
		<option value="//api/name/stringFromObject:">- stringFromObject:</option>
		
		<option value="//api/name/stringFromObject:withBlock:">- stringFromObject:withBlock:</option>
		
		<option value="//api/name/stringMatches:">- stringMatches:</option>
		
	</optgroup>
	
	
</select>
						</label>
					</li>
				</ul>
			</nav>
		</div>
	</aside>

	<article>
		<div id="overview_contents" class="container">
			<div id="content">
				<main role="main">
					<h1 class="title">SOCPattern Class Reference</h1>

					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<th>Inherits from</th>
	<td>NSObject</td>
</tr><tr>
	<th>Declared in</th>
	<td>SOCKit.h<br />SOCKit.m</td>
</tr>
						</tbody></table></div>
					

                    
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>String &lt;-> Object Coding.</p>

<p>Code information from strings into objects and vice versa.</p>

<p>A pattern is a string with parameter names prefixed by colons (&ldquo;:&rdquo;).
An example of a pattern string with one parameter named :username is:
api.github.com/users/:username/gists</p>

<p>Patterns, once created, can be used to efficiently turn objects into strings and
vice versa. Respectively, these techniques are referred to as inbound and outbound.</p>

<p>Inbound examples (creating strings from objects):</p>

<p>pattern: api.github.com/users/:username/gists</p>

<blockquote><p>[pattern stringFromObject:[GithubUser userWithUsername:@&ldquo;jverkoey&rdquo;]];
returns: api.github.com/users/jverkoey/gists</p></blockquote>

<p>pattern: api.github.com/repos/:username/:repo/issues</p>

<blockquote><p>[pattern stringFromObject:[GithubRepo repoWithUsername:@&ldquo;jverkoey&rdquo; repo:@&ldquo;sockit&rdquo;]];
returns: api.github.com/repos/jverkoey/sockit/issues</p></blockquote>

<p>Outbound examples (performing selectors on objects with values from given strings):</p>

<p>pattern: github.com/:username</p>

<blockquote><p>[pattern performSelector:@selector(initWithUsername:) onObject:[GithubUser class] sourceString:@&ldquo;github.com/jverkoey&rdquo;];
returns: an allocated, initialized, and autoreleased GithubUser object with @&ldquo;jverkoey&rdquo; passed
to the initWithUsername: method.</p></blockquote>

<p>pattern: github.com/:username/:repo</p>

<blockquote><p>[pattern performSelector:@selector(initWithUsername:repoName:) onObject:[GithubUser class] sourceString:@&ldquo;github.com/jverkoey/sockit&rdquo;];
returns: an allocated, initialized, and autoreleased GithubUser object with @&ldquo;jverkoey&rdquo; and
@&ldquo;sockit&rdquo; passed to the initWithUsername:repoName: method.</p></blockquote>

<p>pattern: github.com/:username</p>

<blockquote><p>[pattern performSelector:@selector(setUsername:) onObject:githubUser sourceString:@&ldquo;github.com/jverkoey&rdquo;];
returns: nil because setUsername: does not have a return value. githubUser&rsquo;s username property
is now @&ldquo;jverkoey&rdquo;.</p></blockquote>

<p>Note 1: Parameters must be separated by string literals</p>

<p>Pattern parameters must be separated by some sort of non-parameter character.
This means that you can&rsquo;t define a pattern like :user:repo. This is because when we
get around to wanting to decode the string back into an object we need some sort of
delimiter between the parameters.</p>

<p>Note 2: When colons aren&rsquo;t seen as parameters</p>

<p>If you have colons in your text that aren&rsquo;t followed by a valid parameter name then the
colon will be treated as static text. This is handy if you&rsquo;re defining a URL pattern.
For example: @&ldquo;<a href="http://github.com/:user">http://github.com/:user</a>&rdquo; only has one parameter, :user. The &ldquo;:&rdquo; in http://
is treated as a string literal and not a parameter.</p>

<p>Note 3: Escaping KVC characters</p>

<p>If you need to use KVC characters in SOCKit patterns as literal string tokens and not
treated with KVC then you must escape the characters using double backslashes. For example,
@&ldquo;/:userid.json&rdquo; would create a pattern that uses KVC to access the json property of the
username value. In this case, however, we wish to interpret the &ldquo;.json&rdquo; portion as a
static string.</p>

<p>In order to do so we must escape the &ldquo;.&rdquo; using a double backslash: &ldquo;\.&rdquo;. For example:
@&ldquo;/:userid\.json&rdquo;. This makes it possible to create strings of the form @&ldquo;/3.json&rdquo;.
This also works with outbound parameters, so that the string @&ldquo;/3.json&rdquo; can
be used with the pattern to invoke a selector with &ldquo;3&rdquo; as the first argument rather
than &ldquo;3.json&rdquo;.</p>

<p>You can escape the following characters:
&ldquo;:&rdquo; => @&ldquo;\:&rdquo;
&ldquo;@&rdquo; => @&ldquo;\@&rdquo;
&ldquo;.&rdquo; => @&ldquo;\.&rdquo;
&ldquo;\&rdquo; => @&ldquo;\\&rdquo;</p>

<p>Note 4: Allocating new objects with outbound patterns</p>

<p>SOCKit will allocate a new object of a given class if
performSelector:onObject:sourceString: is provided a selector with &ldquo;init&rdquo; as a prefix
and object is a Class. E.g. [GithubUser class].</p>
					</div>
					
					

					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						

						
						

						<div class="task-list">
							<div class="section-method">
	<a name="//api/name/initWithString:" title="initWithString:"></a>
	<h3 class="method-title"><code><a href="#//api/name/initWithString:">&ndash;&nbsp;initWithString:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Initializes a newly allocated pattern object with the given pattern string.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (id)initWithString:(NSString *)<em>string</em></code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Designated initializer.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">SOCKit.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/stringMatches:" title="stringMatches:"></a>
	<h3 class="method-title"><code><a href="#//api/name/stringMatches:">&ndash;&nbsp;stringMatches:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Returns YES if the given string can be used with <a href="#//api/name/performSelector:onObject:sourceString:">performSelector:onObject:sourceString:</a> or
extractParameterKeyValuesFromSourceString:.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (BOOL)stringMatches:(NSString *)<em>string</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>string</code></th>
						<td><p>A string that may or may not conform to this pattern.</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>YES if the given string conforms to this pattern, NO otherwise.</p>
			</div>
			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>A matching string must exactly match all of the static portions of the pattern and provide
values for each of the parameters.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">SOCKit.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/performSelector:onObject:sourceString:" title="performSelector:onObject:sourceString:"></a>
	<h3 class="method-title"><code><a href="#//api/name/performSelector:onObject:sourceString:">&ndash;&nbsp;performSelector:onObject:sourceString:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Performs the given selector on the object with the matching parameter values from sourceString.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (id)performSelector:(SEL)<em>selector</em> onObject:(id)<em>object</em> sourceString:(NSString *)<em>sourceString</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>selector</code></th>
						<td><p>The selector to perform on the object. If there aren&rsquo;t enough
parameters in the pattern then the excess parameters in the selector
will be nil.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>object</code></th>
						<td><p>The object to perform the selector on.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>sourceString</code></th>
						<td><p>A string that conforms to this pattern. The parameter values from
this string are used as the arguments when performing the selector
on the object.</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>The initialized, autoreleased object if the selector is an initializer
(prefixed with &ldquo;init&rdquo;) and object is a Class, otherwise the return value from
invoking the selector.</p>
			</div>
			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">SOCKit.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/parameterDictionaryFromSourceString:" title="parameterDictionaryFromSourceString:"></a>
	<h3 class="method-title"><code><a href="#//api/name/parameterDictionaryFromSourceString:">&ndash;&nbsp;parameterDictionaryFromSourceString:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Extracts the matching parameter values from sourceString into an NSDictionary.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (NSDictionary *)parameterDictionaryFromSourceString:(NSString *)<em>sourceString</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>sourceString</code></th>
						<td><p>A string that conforms to this pattern. The parameter values from
this string are extracted into the NSDictionary.</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>A dictionary of key value pairs. All values will be NSStrings. The keys will
correspond to the pattern&rsquo;s parameter names. Duplicate key values will be
overwritten by later values.</p>
			</div>
			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">SOCKit.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/stringFromObject:" title="stringFromObject:"></a>
	<h3 class="method-title"><code><a href="#//api/name/stringFromObject:">&ndash;&nbsp;stringFromObject:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Returns a string with the parameters of this pattern replaced using Key-Value Coding (KVC)
on the receiving object.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (NSString *)stringFromObject:(id)<em>object</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>object</code></th>
						<td><p>The object whose properties will be used to replace the parameters in
the pattern.</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>A string with the pattern parameters replaced by the object property values.</p>
			</div>
			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Parameters of the pattern are evaluated using valueForKeyPath:. See Apple&rsquo;s KVC documentation
for more details.</p>

<p>Key-Value Coding Fundamentals:
<a href="http://developer.apple.com/library/ios/">http://developer.apple.com/library/ios/</a>#documentation/cocoa/conceptual/KeyValueCoding/Articles/BasicPrinciples.html#//apple_ref/doc/uid/20002170-BAJEAIEE</p>

<p>Collection Operators:
<a href="http://developer.apple.com/library/ios/">http://developer.apple.com/library/ios/</a>#documentation/cocoa/conceptual/KeyValueCoding/Articles/CollectionOperators.html#//apple_ref/doc/uid/20002176-BAJEAIEE</p>
			</div>
			

			

			
			<div class="method-subsection see-also-section">
				<h4 class="method-subtitle">See Also</h4>
				<ul>
					
					<li><code><p><a href="#//api/name/stringFromObject:withBlock:">- stringFromObject:withBlock:</a></p></code></li>
					
				</ul>
			</div>
			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">SOCKit.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/stringFromObject:withBlock:" title="stringFromObject:withBlock:"></a>
	<h3 class="method-title"><code><a href="#//api/name/stringFromObject:withBlock:">&ndash;&nbsp;stringFromObject:withBlock:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Returns a string with the parameters of this pattern replaced using Key-Value Coding (KVC)
on the receiving object, and the result is (optionally) modified or encoded by the block.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (NSString *)stringFromObject:(id)<em>object</em> withBlock:(NSString *( ^ ) ( NSString *))<em>block</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>object</code></th>
						<td><p>The object whose properties will be used to replace the parameters in
the pattern.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>block</code></th>
						<td><p>An optional block (may be nil) that modifies or encodes each
property value string. The block accepts one parameter - the property
value as a string - and should return the modified property string.</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>A string with the pattern parameters replaced by the block-processed object
property values.</p>
			</div>
			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>For example, consider we have individual object values that need percent escapes added to them,
while preserving the slashes, question marks, and ampersands of a typical resource path.
Using blocks, this is very succinct:</p>

<p>@code
NSDictionary<em> person = [NSDictionary dictionaryWithObjectsAndKeys:
@&ldquo;SECRET|KEY&rdquo;,@&ldquo;password&rdquo;,
@&ldquo;Joe Bob Briggs&rdquo;, @&ldquo;name&rdquo;, nil];
SOCPattern</em> soc = [SOCPattern patternWithString:@&ldquo;/people/:name/:password&rdquo;];
NSString<em> actualPath = [soc stringFromObject:person withBlock:^(NSString </em>)propertyValue) {
return [propertyValue stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];
}
NSString* expectedPath = @&ldquo;/people/Joe%20Bob%20Briggs/SECRET%7CKEY&rdquo;;
@endcode</p>
			</div>
			

			

			
			<div class="method-subsection see-also-section">
				<h4 class="method-subtitle">See Also</h4>
				<ul>
					
					<li><code><p><a href="#//api/name/stringFromObject:">- stringFromObject:</a></p></code></li>
					
				</ul>
			</div>
			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">SOCKit.h</code></p>
			</div>
			
			
		</div>
	</div>
</div>
						</div>
						
					</div>
					
					

                    
                    
          
				</main>

				<footer>
					<div class="footer-copyright">
						
						<p class="copyright">Copyright &copy; 2015 TIBCO Jaspersoft. All rights reserved. Updated: 2015-10-02</p>
						
						
						<p class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.2.1 (build 1334)</a>.</p>
						
					</div>
				</footer>
			</div>
		</div>
	</article>

	<script src="../js/script.js"></script>
</body>
</html>